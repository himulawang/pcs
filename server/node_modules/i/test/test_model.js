global.APP_ABS_PATH = '/home/ila/project/pcs/server/node_modules/i';

var loader = require('../lib/Loader.js').Loader;
var maker = require('../lib/model/Maker.js').Maker;
var orms = require(APP_ABS_PATH + '/config/orm.js').orms;

exports.init = function() {
    // load I Framework core
    loader.loadCore();

    // create base model files in memory
    maker.loadOrms(orms);

    // write model file to disk
    maker.createFiles(orms, APP_ABS_PATH + '/test/model');

    // load model classes in memory
    loader.loadMemoryModelClasses(maker.getClasses());

    // load disk classes
    loader.load(APP_ABS_PATH + '/test');
};

exports.init();
