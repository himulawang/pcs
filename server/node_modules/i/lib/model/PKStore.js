var PKStore = function PKStore() {};

PKStore.prototype.init = function init(db) {
    this.db = db;
};

PKStore.prototype.get = function get(cb) {
    var self = this;
    this.db.get(this.key, function(err, data) {
        if (err) return cb(new I.Exception(10125, err));
        var pkClass = self.getModel();
        var pk = new pkClass(data);
        cb(null, pk);
    });
};

PKStore.prototype.set = function set(pk, cb) {
    if (pk instanceof this.getModel() === false) return cb(new I.Exception(10109, err));
    cb = cb || function() {};
    this.db.set(this.key, pk.get(), function(err, result) {
        if (err) return cb(new I.Exception(10122, err));
        cb(null, result);
    });
};

PKStore.prototype.unset = function unset(pk, cb) {
    if (pk instanceof this.getModel() === false) return cb(new I.Exception(10121, err));
    cb = cb || function() {};
    this.db.del(this.key, function(err, result) {
        if (err) return cb(new I.Exception(10124, err));
        cb(null, result);
    });
};

if (exports) exports.PKStore = PKStore;

