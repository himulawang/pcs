!function () {
    var DataPool = function DataPool() {
        this.syncStatus = I.Const.Frame.DATAPOOL_SYNC_IDLE;
        this.pool = {};
    };

    DataPool.prototype.set = function set(name, index, model) {
        this.pool[name + '-' + index] = model;
    };

    DataPool.prototype.get = function get(name, index) {
        return this.pool[name + '-' + index];
    };

    DataPool.prototype.sync = function sync() {
        if (this.syncStatus === I.Const.Frame.DATAPOOL_SYNC_SYNCING) return;

        for (var i in this.pool) {
            var data = this.pool[i];

            var storeName = data.constructor.name + 'Store';

            I.Models[storeName].sync(data);
        }
    };

    I.Util.require('DataPool', '', DataPool);
}();
